---
title: 2018-3-28CloneIt一键换机
tags: Yota,Markdown,Roger
grammar_cjkRuby: true
---


欢迎使用 **{小书匠}(xiao shu jiang)编辑器**，您可以通过==设置==里的修改模板来改变新建文章的内容。

# 控制APP渠道
Constants.CHANNEL来区分Yota手机还是其他手机
**CloneItApplication.initParams()** 方法中写入该值

# 连接热点流程
## 时序图
```plantuml!
@startuml
hide footbox
autonumber
== 监听VerityCodeView,输入完成后触发 ==
OldPhoneConnectAct -> SendDataService : doChooseData
SendDataService -> WifiHotManager : discoverDevice
activate WifiHotManager
WifiHotManager -> WifiHotManager : openWifi/scanNearWifiHots
WifiHotManager -> WifiHotManager : registerWifiScanBroadCast
WifiHotManager -> WifiManager : scanNearWifiHots
WifiManager -> IWifiManager : startScan
deactivate WifiHotManager

== 扫描wifi广播回调 ==
WifiBroadcast -> SendDataService : onReceive
SendDataService -> WifiHotManager : disPlayWifiScanResult
note over SendDataService : 判断输入的4位code,成功开始传输数据
```